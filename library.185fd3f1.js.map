{"mappings":"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","sources":["src/library.js","src/js/gallery-library.js","src/js/gallery-library-pagination.js","src/templates/library-card.hbs"],"sourcesContent":["import btn from './js/button-scroll-up.js';\nimport gallery from './js/gallery-library.js';\nimport { pagination } from './js/gallery-library-pagination';\nimport team from './js/team-modal.js';\n\n","import Handlebars from 'handlebars';\nimport {\n  getYear,\n  getPosterUrl,\n  getShortPopularity,\n  getShortGenres,\n} from './handlebars.js';\nimport filmModal from '../templates/modal.hbs';\nimport { WATCHED_PAGE_FILMS, QUEUE_PAGE_FILMS } from './api-variables.js';\nimport { save, load } from './local-storage';\nimport {\n  selectedList,\n  getDataQueue,\n  getDataWatched,\n  firstIdxWatched,\n  firstIdxQueue,\n} from './gallery-library-pagination';\n\nconst galleryLibEl = document.querySelector('.gallery-library__list');\n\nconst backdrop = document.querySelector('.backdrop');\nconst modalInfoFilm = document.querySelector('.modal__info-film');\nconst btnCloseModal = document.querySelector('.modal__button-close-modal');\ngalleryLibEl.addEventListener('click', libCardClickHandler);\n\ngetDataQueue();\n\nfunction libCardClickHandler(event) {\n  const watchedArr = load(WATCHED_PAGE_FILMS);\n  const queueArr = load(QUEUE_PAGE_FILMS);\n  if (event.target.nodeName === 'UL') {\n    return;\n  }\n  const currentId = Number(event.target.closest('.gallery-library__card').id);\n  const unitedStorageArr =\n    watchedArr && queueArr\n      ? [...watchedArr, ...queueArr]\n      : watchedArr\n      ? [...watchedArr]\n      : [...queueArr];\n  const currentFilmIdx = unitedStorageArr.findIndex(el => el.id === currentId);\n  const currentFilm = unitedStorageArr[currentFilmIdx];\n\n  const markup = filmModal(currentFilm);\n\n  modalInfoFilm.innerHTML = markup;\n\n  backdrop.classList.remove('visually-hidden');\n  backdrop.addEventListener('click', backdropCloseModal);\n\n  const btnWatchedEl = document.querySelector('.modal__button-watched');\n  const btnQueueEl = document.querySelector('.modal__button-queue');\n  btnWatchedEl.addEventListener('click', saveToLibWatchedStorage);\n  btnQueueEl.addEventListener('click', saveToLibQueueStorage);\n\n  function saveToLibWatchedStorage() {\n    const queueArr = load(QUEUE_PAGE_FILMS);\n\n    const requiredInd = queueArr.findIndex(el => el.id === currentFilm.id);\n    queueArr.splice(requiredInd, 1);\n    localStorage.setItem(QUEUE_PAGE_FILMS, JSON.stringify(queueArr));\n\n    save(WATCHED_PAGE_FILMS, currentFilm);\n//     firstIdxQueue = 0;\n  }\n\n  function saveToLibQueueStorage() {\n    const watchedArr = load(WATCHED_PAGE_FILMS);\n    const requiredInd = watchedArr.findIndex(el => el.id === currentFilm.id);\n    watchedArr.splice(requiredInd, 1);\n    localStorage.setItem(WATCHED_PAGE_FILMS, JSON.stringify(watchedArr));\n\n    save(QUEUE_PAGE_FILMS, currentFilm);\n//     firstIdxWatched = 0;\n  }\n\n  btnCloseModal.addEventListener('click', filmCardCloseWindow);\n  document.addEventListener('keydown', filmCardCloseWindowByEsc);\n\n  function backdropCloseModal(event) {\n    if (event.target.classList.contains('backdrop')) {\n      filmCardCloseWindow();\n    }\n  }\n\n  function filmCardCloseWindowByEsc(ev) {\n    if (ev.code !== 'Escape') {\n      return;\n    }\n    filmCardCloseWindow();\n  }\n\n  function filmCardCloseWindow() {\n    if (selectedList === 'queue') {\n      getDataQueue();\n    } else {\n      getDataWatched();\n    }\n\n    backdrop.classList.add('visually-hidden');\n    btnCloseModal.removeEventListener('click', filmCardCloseWindow);\n    btnWatchedEl.removeEventListener('click', saveToLibWatchedStorage);\n    btnQueueEl.removeEventListener('click', saveToLibQueueStorage);\n    document.removeEventListener('keydown', filmCardCloseWindowByEsc);\n    backdrop.removeEventListener('click', backdropCloseModal);\n  }\n}\n","import Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.css';\nimport libraryFilmCard from '../templates/library-card.hbs';\nimport { load } from './local-storage';\nimport { WATCHED_PAGE_FILMS, QUEUE_PAGE_FILMS } from './api-variables.js';\n\nconst galleryList = document.querySelector('.gallery-library__list');\nconst watchedBtn = document.querySelector('.js-btn-watched');\nconst queuedBtn = document.querySelector('.js-btn-queue');\nconst paginationBox = document.querySelector('#pagination');\nconst libWarnText = document.querySelector('.lib__empty');\n\nconst showPerPage = 20;\nexport let selectedList = 'queue';\n\nexport function renderGallery(arr) {\n  galleryList.innerHTML = '';\n  galleryList.insertAdjacentHTML('beforeend', libraryFilmCard(arr));\n}\n\nwatchedBtn.addEventListener('click', getDataWatched);\n\nlet currentPageWatched = 1;\nexport let firstIdxWatched = 0;\nlet lastIdxWatched = 20;\nexport function getDataWatched() {\n  watchedBtn.classList.add('btn--active');\n  watchedBtn.classList.remove('btn--bright');\n  queuedBtn.classList.add('btn--bright');\n  queuedBtn.classList.remove('btn--active');\n  selectedList = 'watched';\n  paginationBox.classList.add('visually-hidden');\n  libWarnText.classList.add('visually-hidden');\n\n  const watchedArr1 = load(WATCHED_PAGE_FILMS);\n  if (watchedArr1 === undefined || !watchedArr1.length) {\n    galleryList.innerHTML = '';\n    libWarnText.classList.remove('visually-hidden');\n    return;\n  }\n  renderGallery(watchedArr1.slice(firstIdxWatched, lastIdxWatched));\n\n  if (watchedArr1 && watchedArr1.length > 20) {\n    paginationBox.classList.remove('visually-hidden');\n\n    const pagination = new Pagination('pagination', {\n      totalItems: watchedArr1.length,\n      itemsPerPage: showPerPage,\n      visiblePages: 5,\n      centerAlign: true,\n    });\n\n    pagination.movePageTo(currentPageWatched);\n\n    pagination.on('afterMove', event => {\n      const watchedArr1 = load(WATCHED_PAGE_FILMS);\n      currentPageWatched = event.page;\n      firstIdxWatched = (currentPageWatched - 1) * showPerPage;\n      lastIdxWatched = firstIdxWatched + showPerPage;\n\n      renderGallery(watchedArr1.slice(firstIdxWatched, lastIdxWatched));\n    });\n  } else {\n    renderGallery(watchedArr1);\n    firstIdxWatched = 0;\n    currentPageWatched = 1;\n    lastIdxWatched = 20;\n  }\n}\n\nqueuedBtn.addEventListener('click', getDataQueue);\n\nlet currentPageQueue = 1;\nexport let firstIdxQueue = 0;\nlet lastIdxQueue = 20;\nexport function getDataQueue() {\n  queuedBtn.classList.add('btn--active');\n  queuedBtn.classList.remove('btn--bright');\n  watchedBtn.classList.add('btn--bright');\n  watchedBtn.classList.remove('btn--active');\n  selectedList = 'queue';\n  paginationBox.classList.add('visually-hidden');\n  libWarnText.classList.add('visually-hidden');\n\n  const queueArr1 = load(QUEUE_PAGE_FILMS);\n  if (queueArr1 === undefined || !queueArr1.length) {\n    galleryList.innerHTML = '';\n    libWarnText.classList.remove('visually-hidden');\n    return;\n  }\n  renderGallery(queueArr1.slice(firstIdxQueue, lastIdxQueue));\n\n  if (queueArr1 && queueArr1.length > 20) {\n    paginationBox.classList.remove('visually-hidden');\n\n    const pagination = new Pagination('pagination', {\n      totalItems: queueArr1.length,\n      itemsPerPage: showPerPage,\n      visiblePages: 5,\n      centerAlign: true,\n    });\n\n    pagination.movePageTo(currentPageQueue);\n\n    pagination.on('afterMove', event => {\n      const queueArr1 = load(QUEUE_PAGE_FILMS);\n      currentPageQueue = event.page;\n      firstIdxQueue = (currentPageQueue - 1) * showPerPage;\n      lastIdxQueue = firstIdxQueue + showPerPage;\n\n      renderGallery(queueArr1.slice(firstIdxQueue, lastIdxQueue));\n    });\n  } else {\n    renderGallery(queueArr1);\n    firstIdxQueue = 0;\n    currentPageQueue = 1;\n    lastIdxQueue = 20;\n  }\n}\n","{{#each this}}\n  <li id={{id}} class='gallery-library__card'>\n    <img\n      class='gallery-library__img'\n      {{#if poster_path}}\n      src='{{getPosterUrl poster_path}}'\n      {{else}}\n      src='https://papik.pro/uploads/posts/2021-12/thumbs/1639228118_1-papik-pro-p-kino-klipart-1.jpg'\n      {{/if}}\n      alt={{title}}\n    />\n    <div class='gallery-library__info-wrap'>\n      <p class='gallery-library__name'>{{title}}</p>\n      <div class='gallery-library__info'>\n        {{#if genre_ids}}\n        <span class='gallery-library__genre'>{{getShortGenres genre_ids}}\n        {{else}}\n        <span class='gallery-library__genre'>Жанр невідомий\n        {{/if}}\n            |\n            {{getYear release_date}}</span>\n        <span class='gallery-library__rating'>{{vote_average}}</span>\n      </div>\n    </div>\n  </li>\n{{/each}}"],"names":["parcelRequire","$8nrFW","$1VFfL","$l5bVx","$764d7b6e0e032b00$export$2e2bcd8739ae039","$parcel$interopDefault","template","container","depth0","helpers","partials","data","stack1","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","name","hash","loc","start","line","column","end","fn","program","inverse","compiler","main","noop","useData","$6050db57abed3c68$var$galleryList","document","querySelector","$6050db57abed3c68$var$watchedBtn","$6050db57abed3c68$var$queuedBtn","$6050db57abed3c68$var$paginationBox","$6050db57abed3c68$var$libWarnText","$6050db57abed3c68$var$showPerPage","$6050db57abed3c68$export$62842f941c1035ef","$6050db57abed3c68$export$30b0ee8bdb5cac31","arr","innerHTML","insertAdjacentHTML","addEventListener","$6050db57abed3c68$export$32ee735854ad75e9","$6050db57abed3c68$var$currentPageWatched","$6050db57abed3c68$export$1194f70aaae63eb5","$6050db57abed3c68$var$lastIdxWatched","classList","add","remove","watchedArr11","$4LMMA","load","$9s6o9","WATCHED_PAGE_FILMS","undefined","length","slice","pagination","totalItems","itemsPerPage","visiblePages","centerAlign","movePageTo","on","event","watchedArr1","page","$6050db57abed3c68$export$57a248d513b7c88f","$6050db57abed3c68$var$currentPageQueue","$6050db57abed3c68$export$b0cbb375d283cd0a","$6050db57abed3c68$var$lastIdxQueue","queueArr11","QUEUE_PAGE_FILMS","queueArr1","$1ede946e06ccd99c$var$galleryLibEl","$1ede946e06ccd99c$var$backdrop","$1ede946e06ccd99c$var$modalInfoFilm","$1ede946e06ccd99c$var$btnCloseModal","event1","target","nodeName","currentId","Number","closest","id","unitedStorageArr","concat","currentFilmIdx","findIndex","el","currentFilm","markup","$5HWQb","default","backdropCloseModal","btnWatchedEl","btnQueueEl","saveToLibWatchedStorage","queueArr","requiredInd","splice","localStorage","setItem","JSON","stringify","save","saveToLibQueueStorage","watchedArr","contains","filmCardCloseWindow","filmCardCloseWindowByEsc","ev","code","removeEventListener"],"version":3,"file":"library.185fd3f1.js.map"}